<p style="line-height: 18px; font-size: 18px;  font-family: times;">
<button type="button" id="myBtn">Click me!</button>

<script>
    var button = document.getElementById("myBtn");
    console.log("Found button.\n");
    button.addEventListener('click', function(event) {
        console.log("Button clicked.\n");
        navigator.bluetooth.requestDevice({ filters: [{ services: ['battery_service'] }] })
            .then(device => device.gatt.connect())
            .then(server => {
                // Getting Battery Service...
                console.log("Getting Battery Service.\n");
                return server.getPrimaryService('battery_service');
            })
            .then(service => {
                // Getting Battery Level Characteristic...
                return service.getCharacteristic('battery_level');
            })
            .then(characteristic => {
                // Reading Battery Level...
                return characteristic.readValue();
            })
            .then(value => {
                console.log('Battery percentage is ' + value.getUint8(0));
            })
            .catch(error => { console.log(error); }
        );
    });
</script>
    
</p>
