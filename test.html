<p style="line-height: 60px; font-size: 30px;  font-family: times;">
    Update 3
    <button type="button" id="btSvc1">Service 1 - 31F45C45-8E0D-4C88-94F7-718A38048536</button>

<script>
    var buttonSvc1 = document.getElementById("btSvc1");
    
    console.log("Found button.\n");
    
    buttonSvc1.addEventListener('click', function(event) {
        console.log("Button clicked.\n");
        navigator.bluetooth.requestDevice({ 
            filters: [{
                services: ['31F45C45-8E0D-4C88-94F7-718A38048536', 'battery_service'] 
            }] 
            })
            .then(device => {
                console.log(device.name);
                device.gatt.connect();
            })
            .then(server => {
                console.log("Getting Battery Service.\n");
                return server.getPrimaryService('31F45C45-8E0D-4C88-94F7-718A38048536');
            })
            .then(service => {
                // Getting Battery Level Characteristic...
                return service.getCharacteristic('31F45C46-E0D4-C889-4F77-18A380485360');
            })
            .then(characteristic => {
                // Reading Battery Level...
                return characteristic.readValue();
            })
            .then(value => {
                console.log('Battery percentage is ' + value.getUint8(0));
            })
            .catch(error => { console.log(error); }
            );
    });
    
</script>
    
</p>
